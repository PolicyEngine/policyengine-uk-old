{"version":3,"sources":["js/ui/header.jsx","js/pages/policy/controls.jsx","js/pages/policy/menu.jsx","js/pages/policy/overview.jsx","js/pages/policy.jsx","js/pages/situation/menu.jsx","js/pages/situation/default_situation.js","js/pages/situation/controls.jsx","js/pages/situation/overview.jsx","js/pages/situation.jsx","js/pages/population-results/results.jsx","js/pages/population-results/overview.jsx","js/pages/population-results.jsx","js/pages/situation-results/results.jsx","js/pages/situation-results.jsx","js/pages/policy/default_policy.js","js/App.jsx","index.js"],"names":["Step","Steps","TopHeader","className","title","subTitle","style","paddingBottom","Header","props","INTRO","fontSize","TITLES","DESCRIPTIONS","steps","i","length","push","description","minWidth","Container","fluid","Row","padding","Col","md","paddingRight","current","step","direction","Parameter","formatter","parser","param","type","value","replace","onChange","name","checked","min","max","tooltipVisible","width","ParameterGroup","names","map","policy","rate","NothingControls","PolicyControls","controlSet","main_rates","sav_div","it_alt","employee_side","ni_alt","allowances","basic_income","universal_credit","cb","selected","SubMenu","Menu","PolicyMenu","onClick","e","key","mode","defaultOpenKeys","defaultSelectedKeys","Item","React","Component","SimulateButton","searchParams","URLSearchParams","window","location","search","default","set","delete","url","target","toString","to","primary","text","PolicyOverview","progressDot","Object","keys","status","summary","image","onSubmit","paddingTop","Policy","state","updatePolicy","bind","selectPolicyMenuItem","this","setState","xl","SituationMenu","familyMenuItems","household","families","familyName","peopleMenuItems","numChildren","j","people","isAdult","age","index","onSelect","DEFAULT_HOUSEHOLD","num_families","DEFAULT_FAMILY","num_people","DEFAULT_PERSON","employment_income","pension_income","savings_interest_income","dividend_income","DEFAULT_SITUATION","SituationControls","returnFunction","onEnter","includes","family_number","split","person_number","SituationOverview","console","log","isSingleFamily","numPensioners","numWA","noButton","Situation","situation","updateSituation","JSON","parse","stringify","pop","antIcon","LoadingOutlined","spin","HeadlineFigure","margin","precision","prefix","noArrow","nonNumeric","ArrowUpOutlined","ArrowDownOutlined","suffix","Chart","data","plot","layout","config","displayModeBar","PopulationResultsPane","results","net_cost","poverty_change","winner_share","loser_share","inequality_change","waterfall","decile_plot","poverty_plot","mtr_plot","LoadingResultsPane","message","indicator","PolicySituationOverview","PopulationResults","plan","waiting","simulate","submission","fetch","method","headers","body","then","res","json","minHeight","paddingLeft","ChangedHeadlineFigure","formatNumber","num","gbp","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","oldV","oldValue","newV","newValue","gain","loss","changeColor","color","x","frames","SituationResultsPane","NAMES","KEYS","headlineFigures","old","new","waterfall_chart","budget_chart","mtr_chart","SituationResults","DEFAULT_POLICY","basic_rate","higher_rate","add_rate","basic_threshold","higher_threshold","add_threshold","personal_allowance","NI_main_rate","NI_add_rate","NI_PT","NI_UEL","child_UBI","adult_UBI","senior_UBI","abolish_savings_allowance","abolish_dividend_allowance","abolish_income_tax","abolish_NI","abolish_UC","abolish_CB","getPolicyFromURL","document","hash","slice","indexOf","get","App","basename","id","path","exact","ReactDOM","render","getElementById"],"mappings":"qRASQA,EAASC,IAATD,KAeR,SAASE,IACR,OACC,qCACC,qBAAKC,UAAU,oBAAf,SACC,cAAC,IAAD,CACCC,MAAM,mBACNC,SAAS,wBAGX,sBAAKF,UAAU,YAAf,UACC,qBAAKA,UAAU,gCAAf,SACC,cAAC,IAAD,CACCC,MAAM,mBACNE,MAAO,CAACC,cAAe,OAGzB,qBAAKJ,UAAU,gCAAf,SACC,qBAAKA,UAAU,oCAAf,uCA6DUK,MApDf,SAAgBC,GAkBf,IAjBA,IAAMC,EACL,mBAAGJ,MAAO,CAACK,SAAU,IAArB,yTAQKC,EAAS,CAAC,SAAU,YAAa,kBAAmB,gBACpDC,EAAe,CACpB,8DACA,0EACA,oEACA,+DAEGC,EAAQ,GACJC,EAAI,EAAGA,EAAIH,EAAOI,OAAQD,IACjCD,EAAMG,KAAK,cAACjB,EAAD,CAAcI,MAAOQ,EAAOG,GAAIG,YAAaL,EAAaE,GAAIT,MAAO,CAACa,SAAU,MAArEJ,IAEvB,OACC,qCACC,cAACb,EAAD,IACA,eAACkB,EAAA,EAAD,CAAWC,OAAK,EAAhB,UACC,eAACC,EAAA,EAAD,CAAKhB,MAAO,CAAEiB,QAAS,IAAMpB,UAAU,mBAAvC,UACC,cAACqB,EAAA,EAAD,CAAKC,GAAI,EAAGnB,MAAO,CAACoB,aAAc,IAAlC,SAAwChB,IACxC,cAACc,EAAA,EAAD,CAAKC,GAAI,EAAT,SACC,qBAAKtB,UAAU,gCAAf,SACC,8BACC,cAAC,IAAD,CAAOwB,QAASlB,EAAMmB,KAAtB,SACEd,aAMN,eAACQ,EAAA,EAAD,CAAKhB,MAAO,CAAEiB,QAAS,IAAMpB,UAAU,YAAvC,UACC,cAACqB,EAAA,EAAD,CAAKC,GAAI,EAAGnB,MAAO,CAAEC,cAAe,IAApC,SACEG,IAEF,cAACc,EAAA,EAAD,CAAKC,GAAI,EAAT,SACC,cAAC,IAAD,CAAOE,QAASlB,EAAMmB,KAAMC,UAAU,WAAtC,SACEf,gB,4CCtFR,SAASgB,EAAUrB,GAClB,IAAIsB,EAAY,KACZC,EAAS,KAcb,MAbyB,SAArBvB,EAAMwB,MAAMC,MACfH,EAAY,SAACI,GAAD,gBAAcA,EAAd,MACZH,EAAS,SAACG,GAAD,OAAWA,EAAMC,QAAQ,IAAK,MACR,WAArB3B,EAAMwB,MAAMC,MACtBH,EAAY,SAACI,GAAD,oBAAeA,EAAf,UACZH,EAAS,SAACG,GAAD,OAAWA,EAAMC,QAAQ,OAAK,IAAIA,QAAQ,QAAS,MAC7B,WAArB3B,EAAMwB,MAAMC,MACtBH,EAAY,SAACI,GAAD,oBAAeA,EAAf,UACZH,EAAS,SAACG,GAAD,OAAWA,EAAMC,QAAQ,OAAK,IAAIA,QAAQ,QAAS,MAC7B,YAArB3B,EAAMwB,MAAMC,OACtBH,EAAY,SAACI,GAAD,oBAAeA,EAAf,WACZH,EAAS,SAACG,GAAD,OAAWA,EAAMC,QAAQ,OAAK,IAAIA,QAAQ,SAAU,MAG7D,qCACC,cAAC,IAAD,UAAU3B,EAAMwB,MAAM7B,QACtB,4BAAIK,EAAMwB,MAAMf,cACM,SAArBT,EAAMwB,MAAMC,KAEX,cAAC,IAAD,CACCG,SAAU,SAACF,GACV1B,EAAM4B,SAAS5B,EAAM6B,KAAMH,IAE5BI,QAAS9B,EAAMwB,MAAME,QAItB,qCACC,cAAC,IAAD,CACCA,MAAO1B,EAAMwB,MAAME,MACnBK,IAAK/B,EAAMwB,MAAMO,KAAO,EACxBC,IAAKhC,EAAMwB,MAAMQ,KAAO,IACxBJ,SAAU,SAACF,GACV1B,EAAM4B,SAAS5B,EAAM6B,KAAMH,IAE5BO,gBAAgB,IAEjB,cAAC,IAAD,CACCP,MAAO1B,EAAMwB,MAAME,MACnBK,IAAK/B,EAAMwB,MAAMO,IAAM/B,EAAM+B,IAAM,KACnCC,IAAKhC,EAAMwB,MAAMQ,IAAMhC,EAAMgC,IAAM,KACnCV,UAAWA,EACXC,OAAQA,EACRK,SAAU,SAACF,GACV1B,EAAM4B,SAAS5B,EAAM6B,KAAMH,IAE5B7B,MAAO,CAAEqC,MAAO,aAQhB,SAASC,EAAenC,GAC9B,OACC,mCACEA,EAAMoC,MAAMC,KAAI,SAACR,GAAD,OAAU,cAACR,EAAD,CAAsBQ,KAAMA,EAAML,MAAOxB,EAAMsC,OAAOT,GAAOD,SAAU5B,EAAM4B,SAAUW,MAAI,GAA3EV,QAKvC,SAASW,EAAgBxC,GAC/B,OACC,qCACC,cAAC,IAAD,sCACA,4FAiDYyC,MA5Cf,SAAwBzC,GACvB,IAAM0C,EAAa,CAClBC,WAAY,CACX,aACA,kBACA,cACA,mBACA,WACA,iBAEDC,QAAS,CACR,4BACA,8BAEDC,OAAQ,CACP,sBAEDC,cAAe,CACd,eACA,QACA,cACA,UAEDC,OAAQ,CACP,cAEDC,WAAY,CACX,sBAEDC,aAAc,CACb,YACA,YACA,cAEDC,iBAAkB,CAAC,cACnBC,GAAI,CAAC,eAEAf,EAAQM,EAAW1C,EAAMoD,UAC/B,OAAMpD,EAAMoD,YAAYV,EAGjB,cAACP,EAAD,CAAqCP,SAAU5B,EAAM4B,SAAUU,OAAQtC,EAAMsC,OAAQF,MAAOA,GAAvEpC,EAAMoD,UAF1B,cAACZ,EAAD,CAAsCF,OAAQtC,EAAMsC,QAA9BtC,EAAMoD,W,SCrH7BC,EAAYC,IAAZD,QAyCOE,E,4JAtCd,WAAU,IAAD,OACR,OACC,eAAC,IAAD,CACCC,QAAS,SAACC,GAAO,EAAKzD,MAAMwD,QAAQC,EAAEC,MACtCC,KAAK,SACLC,gBAAiB,CAAC,MAAO,cACzBC,oBAAqB,CAAC,cAJvB,UAMC,eAACR,EAAD,CAAmB1D,MAAM,MAAzB,UACC,eAAC0D,EAAD,CAA0B1D,MAAM,aAAhC,UACC,cAAC,IAAKmE,KAAN,2BAAe,cACf,cAAC,IAAKA,KAAN,mCAAe,WACf,cAAC,IAAKA,KAAN,wBAAe,cACf,cAAC,IAAKA,KAAN,wBAAe,YAJH,cAMb,eAACT,EAAD,CAAkC1D,MAAM,qBAAxC,UACC,cAAC,IAAKmE,KAAN,uBAAe,iBACf,cAAC,IAAKA,KAAN,uBAAe,iBACf,cAAC,IAAKA,KAAN,wBAAe,YAHH,wBAPD,OAab,cAACT,EAAD,CAAuB1D,MAAM,UAA7B,SACC,eAAC0D,EAAD,CAAqB1D,MAAM,wBAA3B,UACC,cAAC,IAAKmE,KAAN,8BAAe,oBACf,cAAC,IAAKA,KAAN,iBAAe,OACf,cAAC,IAAKA,KAAN,2BAAe,MACf,cAAC,IAAKA,KAAN,gCAAe,OACf,cAAC,IAAKA,KAAN,8BAAe,OACf,cAAC,IAAKA,KAAN,6BAAe,MACf,cAAC,IAAKA,KAAN,4BAAe,QAPH,UADD,WAWb,cAAC,IAAKA,KAAN,0BAAe,uB,GAjCMC,IAAMC,W,wBCFvBzE,EAASC,IAATD,KAED,SAAS0E,EAAejE,GAC9B,IAAQsC,EAAWtC,EAAXsC,OACJ4B,EAAe,IAAIC,gBAAgBC,OAAOC,SAASC,QACvD,IAAK,IAAMZ,KAAOpB,EACbA,EAAOoB,GAAKhC,QAAUY,EAAOoB,GAAKa,QACrCL,EAAaM,IAAId,GAAMpB,EAAOoB,GAAKhC,OAEnCwC,EAAaO,OAAOf,GAGtB,IAAMgB,EAAG,UAAM1E,EAAM2E,QAAU,aAAtB,YAAsCT,EAAaU,YAC5D,OACC,8BACC,cAAC,OAAD,CAAMC,GAAIH,EAAV,SAAe,cAAC,IAAD,CAAQjD,KAAMzB,EAAM8E,QAAU,UAAY,KAAMtB,QAASxD,EAAMwD,QAA/D,SAAyExD,EAAM+E,MAAQ,iBA6B1FC,MAxBf,SAAwBhF,GACvB,OACC,qCACC,cAAC,IAAD,wBACA,cAAC,IAAD,CAAOiF,aAAW,EAAC7D,UAAU,WAA7B,SAEE8D,OAAOC,KAAKnF,EAAMsC,QAAQD,KAAI,SAACqB,EAAKpD,GAAN,OAC7BN,EAAMsC,OAAOoB,GAAKhC,QAAU1B,EAAMsC,OAAOoB,GAAKa,QAC3C,cAAC,EAAD,CAAgBa,OAAO,SAASzF,MAAOK,EAAMsC,OAAOoB,GAAK/D,MAAOc,YAAaT,EAAMsC,OAAOoB,GAAK2B,QAAQ1D,QAAQ,IAAK3B,EAAMsC,OAAOoB,GAAKhC,QAA3HgC,GACX,UAIN,eAAC,IAAD,CAAOjD,YAAY,GAAG6E,MAAO,KAA7B,UACC,cAACrB,EAAD,CAAgBa,SAAO,EAACxC,OAAQtC,EAAMsC,OAAQkB,QAASxD,EAAMuF,SAAUR,KAAK,4BAC5E,qBAAKlF,MAAO,CAAC2F,WAAY,MACzB,cAACvB,EAAD,CAAgBc,KAAK,6BAA6BJ,OAAO,sBAAsBrC,OAAQtC,EAAMsC,OAAQkB,QAASxD,EAAMuF,kBCGzGE,E,kDAlCd,WAAYzF,GAAQ,IAAD,8BAClB,cAAMA,IACD0F,MAAQ,CAACpD,OAAQtC,EAAMsC,OAAQc,SAAU,cAC9C,EAAKuC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,qBAAuB,EAAKA,qBAAqBD,KAA1B,gBAJV,E,wDAOnB,SAAqB/D,GACpBiE,KAAKC,SAAS,CAAC3C,SAAUvB,M,0BAG1B,SAAaA,EAAMH,GAClB,IAAIY,EAASwD,KAAKJ,MAAMpD,OACxBA,EAAOT,GAAMH,MAAQA,EACrBoE,KAAKC,SAAS,CAACzD,OAAQA,M,oBAGxB,WAAU,IAAD,OACR,OACC,eAACzB,EAAA,EAAD,WACC,cAACE,EAAA,EAAD,CAAKiF,GAAI,EAAT,SACC,cAAC,EAAD,CAAYxC,QAASsC,KAAKD,yBAE3B,cAAC9E,EAAA,EAAD,CAAKiF,GAAI,EAAT,SACC,cAAC,EAAD,CAAgB1D,OAAQwD,KAAKJ,MAAMpD,OAAQc,SAAU0C,KAAKJ,MAAMtC,SAAUxB,SAAUkE,KAAKH,iBAE1F,cAAC5E,EAAA,EAAD,CAAKiF,GAAI,EAAT,SACC,cAAC,EAAD,CAAgB1D,OAAQwD,KAAKJ,MAAMpD,OAAQiD,SAAU,WAAO,EAAKvF,MAAMuF,SAAS,EAAKG,MAAMpD,oB,GA5B3EyB,IAAMC,W,OCLnBX,EAAYC,IAAZD,QAwCO4C,MAtCf,SAAuBjG,GAEtB,IADA,IAAIkG,EAAkB,GACd5F,EAAI,EAAGA,EAAIN,EAAMmG,UAAUC,SAAS7F,OAAQD,IAAK,CAIxD,IAHA,IAAM+F,EAAU,iBAAa/F,GACzBgG,EAAkB,GAClBC,EAAc,EACVC,EAAI,EAAGA,EAAIxG,EAAMmG,UAAUC,SAAS9F,GAAGmG,OAAOlG,OAAQiG,IAAK,CAClE,IAAM3E,EAAI,iBAAavB,EAAb,mBAAyBkG,GAC7BE,EAAU1G,EAAMmG,UAAUC,SAAS9F,GAAGmG,OAAOD,GAAGG,IAAIjF,OAAS,GAC7D/B,EAAQ+G,EAAU,QAAU,QAC9BA,GACHH,IAED,IAAMK,EAAQF,EAAUF,EAAID,EAAc,EAAIA,EAC9CD,EAAgB9F,KACf,eAAC,IAAKsD,KAAN,WAAuBnE,EAAvB,IAA+BiH,IAAf/E,IAGlBqE,EAAgB1F,KACf,eAAC,EAAD,CAA0Bb,MAA0C,GAAnCK,EAAMmG,UAAUC,SAAS7F,OAAc,SAAvC,iBAA4DD,EAAI,GAAjG,UACC,cAAC,IAAKwD,KAAN,uCAA0BxD,EAA1B,cACCgG,IAFYD,IAMhB,OACC,eAAC,IAAD,CACC1C,KAAK,SACLH,QAAS,SAAAC,GAAC,OAAIzD,EAAM6G,SAASpD,EAAEC,MAC/BE,gBAAiB,CAAC,YAClBC,oBAAqB,CAAC,aAJvB,UAMC,cAAC,IAAKC,KAAN,4BAAe,aACdoC,MCrCSY,EAAoB,CAChCC,aAAc,CACbpH,MAAO,qBACPc,YAAa,0MACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,IAIMgF,EAAiB,CAC7BC,WAAY,CACXtH,MAAO,mBACPc,YAAa,qCACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,IAIMkF,EAAiB,CAC7BP,IAAK,CACJhH,MAAO,MACPc,YAAa,wBACb8D,QAAS,GACT7C,MAAO,GACPM,IAAK,IAENmF,kBAAmB,CAClBxH,MAAO,oBACPc,YAAa,iCACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,KAENoF,eAAgB,CACfzH,MAAO,iBACPc,YAAa,qDACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,MAENqF,wBAAyB,CACxB1H,MAAO,0BACPc,YAAa,gDACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,KAENsF,gBAAiB,CAChB3H,MAAO,kBACPc,YAAa,wBACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,MAgBQuF,EAZQ,2BACnBT,GADmB,IAEtBV,SAAU,CAAC,2BAENY,GAFK,IAGRP,OAAQ,CACPS,QC/CWM,MAdf,SAA2BxH,GAC1B,IAAMyH,EAAiB,SAAC/D,EAAKhC,GAAW1B,EAAM0H,QAAQhE,EAAKhC,EAAO1B,EAAMoD,WACxE,GAAGpD,EAAMoD,SAASuE,SAAS,UAAW,CACrC,IAAMC,GAAiB5H,EAAMoD,SAASyE,MAAM,KAAK,GAC3CC,GAAiB9H,EAAMoD,SAASyE,MAAM,KAAK,GACjD,OAAO,cAAC1F,EAAD,CAAgBP,SAAU6F,EAAgBnF,OAAQtC,EAAMmG,UAAUC,SAASwB,GAAenB,OAAOqB,GAAgB1F,MAAO8C,OAAOC,KAAK+B,KACrI,GAAGlH,EAAMoD,SAASuE,SAAS,UAAW,CAC5C,IAAMC,GAAiB5H,EAAMoD,SAASyE,MAAM,KAAK,GACjD,OAAO,cAAC1F,EAAD,CAAgBP,SAAU6F,EAAgBnF,OAAQtC,EAAMmG,UAAUC,SAASwB,GAAgBxF,MAAO8C,OAAOC,KAAK6B,KAErH,OAAO,cAAC7E,EAAD,CAAgBP,SAAU6F,EAAgBnF,OAAQtC,EAAMmG,UAAW/D,MAAO8C,OAAOC,KAAK2B,MCTvFvH,EAASC,IAATD,KA8DOwI,MA5Df,SAA2B/H,GAC1BgI,QAAQC,IAAIjI,EAAMmG,WAOlB,IANA,IAKIQ,EALEuB,EAAiBlI,EAAMmG,UAAUC,SAAS7F,OAAS,EACrD4H,EAAgB,EAChBC,EAAQ,EACR7B,EAAc,EAGVjG,EAAI,EAAGA,EAAIN,EAAMmG,UAAUC,SAAS7F,OAAQD,IACnD,IAAI,IAAIkG,EAAI,EAAGA,EAAIxG,EAAMmG,UAAUC,SAAS9F,GAAGmG,OAAOlG,OAAQiG,KAC7DG,EAAM3G,EAAMmG,UAAUC,SAAS9F,GAAGmG,OAAOD,GAAGG,IAAIjF,OACvC,GACR6E,IACSI,EAAM,GACfyB,IAEAD,IAKH,OACC,qCACC,cAAC,IAAD,wBACA,cAAC,IAAD,CAAOlD,aAAW,EAAC7D,UAAU,WAA7B,SAEE8D,OAAOC,KAAKnF,EAAMsC,QAAQD,KAAI,SAACqB,EAAKpD,GAAN,OAC7BN,EAAMsC,OAAOoB,GAAKhC,QAAU1B,EAAMsC,OAAOoB,GAAKa,QAC3C,cAAC,EAAD,CAAgBa,OAAO,SAASzF,MAAOK,EAAMsC,OAAOoB,GAAK/D,MAAOc,YAAaT,EAAMsC,OAAOoB,GAAK2B,QAAQ1D,QAAQ,IAAK3B,EAAMsC,OAAOoB,GAAKhC,QAA3HgC,GACX,UAIN,cAAC,IAAD,6BACA,cAAC,IAAD,CAAOuB,aAAW,EAAC7D,UAAU,WAA7B,SAEE,qCACC,cAAC,EAAD,CAAMgE,OAAO,SAASzF,MAAOuI,EAAiB,0BAA4B,yBAA0BzH,YAAY,sCAChH,cAAC,EAAD,CAAM2E,OAAO,SAASzF,OAAiB,GAATyI,EAAa,MAAQA,GAAS,sBAAiC,GAATA,EAAa,GAAK,OACtG,cAAC,EAAD,CAAMhD,OAAO,SAASzF,OAAuB,GAAf4G,EAAmB,MAAQA,GAAe,UAA2B,GAAfA,EAAmB,GAAK,SAC5G,cAAC,EAAD,CAAMnB,OAAO,SAASzF,OAAyB,GAAjBwI,EAAqB,MAAQA,GAAiB,cAAiC,GAAjBA,EAAqB,GAAK,YAKvHnI,EAAMqI,SAMN,6BALA,eAAC,IAAD,CAAO5H,YAAY,GAAG6E,MAAO,KAA7B,UACC,cAACrB,EAAD,CAAgBa,SAAO,EAACC,KAAK,6BAA6BJ,OAAO,sBAAsBrC,OAAQtC,EAAMsC,OAAQkB,QAASxD,EAAMuF,WAC5H,qBAAK1F,MAAO,CAAC2F,WAAY,MACzB,cAACvB,EAAD,CAAgBc,KAAK,uBAAuBJ,OAAO,qBAAqBrC,OAAQtC,EAAMsC,OAAQkB,QAASxD,EAAMuF,kBCMpG+C,E,kDArDd,WAAYtI,GAAQ,IAAD,8BAClB,cAAMA,IACD0F,MAAQ,CAACS,UAAW,EAAKnG,MAAMuI,UAAUpC,UAAW/C,SAAU,aACnE,EAAKoF,gBAAkB,EAAKA,gBAAgB5C,KAArB,gBAHL,E,mDAMnB,SAAgBlC,EAAKhC,EAAO0B,GAC3B,IAAI+C,EAAYL,KAAKJ,MAAMS,UAC3B,GAAG/C,EAASuE,SAAS,UAAW,CAC/B,IAAMC,GAAiBxE,EAASyE,MAAM,KAAK,GAC3C,GAAGzE,EAASuE,SAAS,UAAW,CAC/B,IAAMG,GAAiB1E,EAASyE,MAAM,KAAK,GAC3C1B,EAAUC,SAASwB,GAAenB,OAAOqB,GAAepE,GAAKhC,MAAQA,OAErEyE,EAAUC,SAASwB,GAAelE,GAAKhC,MAAQA,OAGhDyE,EAAUzC,GAAKhC,MAAQA,EAExB,KAAMyE,EAAUY,aAAarF,MAAQyE,EAAUC,SAAS7F,QACvD4F,EAAUC,SAAS5F,KAAnB,2BAA6BiI,KAAKC,MAAMD,KAAKE,UAAU3B,KAAvD,IAAyEP,OAAQ,MAElF,KAAMN,EAAUY,aAAarF,MAAQyE,EAAUC,SAAS7F,QACvD4F,EAAUC,SAASwC,MAEpB,IAAI,IAAItI,EAAI,EAAGA,EAAI6F,EAAUC,SAAS7F,OAAQD,IAAK,CAClD,KAAM6F,EAAUC,SAAS9F,GAAG2G,WAAWvF,MAAQyE,EAAUC,SAAS9F,GAAGmG,OAAOlG,QAC3E4F,EAAUC,SAAS9F,GAAGmG,OAAOjG,KAA7B,eAAsCiI,KAAKC,MAAMD,KAAKE,UAAUzB,MAEjE,KAAMf,EAAUC,SAAS9F,GAAG2G,WAAWvF,MAAQyE,EAAUC,SAAS9F,GAAGmG,OAAOlG,QAC3E4F,EAAUC,SAAS9F,GAAGmG,OAAOmC,MAG/B9C,KAAKC,SAAS,CAACI,UAAWA,M,oBAG3B,WAAU,IAAD,OACR,OACC,eAACtF,EAAA,EAAD,WACC,cAACE,EAAA,EAAD,CAAKiF,GAAI,EAAT,SACC,cAAC,EAAD,CAAeG,UAAWL,KAAKJ,MAAMS,UAAWU,SAAU,SAAAhF,GAAS,EAAKkE,SAAS,CAAC3C,SAAUvB,SAE7F,cAACd,EAAA,EAAD,CAAKiF,GAAI,EAAT,SACC,cAAC,EAAD,CAAmB5C,SAAU0C,KAAKJ,MAAMtC,SAAU+C,UAAWL,KAAKJ,MAAMS,UAAWuB,QAAS5B,KAAK0C,oBAElG,cAACzH,EAAA,EAAD,CAAKiF,GAAI,EAAT,SACC,cAAC,EAAD,CAAmB1D,OAAQwD,KAAK9F,MAAMsC,OAAQ6D,UAAWL,KAAKJ,MAAMS,UAAWZ,SAAU,WAAO,EAAKvF,MAAMuF,SAAS,CAACY,UAAW,EAAKT,MAAMS,wB,GA/CxHpC,IAAMC,W,4ECFxB6E,GAAU,cAACC,GAAA,EAAD,CAAiBjJ,MAAO,CAAEK,SAAU,IAAM6I,MAAI,IAE9D,SAASC,GAAehJ,GACvB,OACC,cAACe,EAAA,EAAD,CAAKlB,MAAO,CAAEiB,QAAS,GAAImI,OAAQ,IAAnC,SACC,cAAC,IAAD,CAAMpJ,MAAO,CAAEa,SAAU,KAAzB,SACC,cAAC,IAAD,CACCf,MAAOK,EAAML,MACb+B,MAAO1B,EAAM0B,MACbwH,UAAWlJ,EAAMkJ,UACjBC,OAAUnJ,EAAMoJ,SAAYpJ,EAAMqJ,WAA2F,6BAA5ErJ,EAAM0B,OAAS,EAAI,mCAAE,cAAC4H,GAAA,EAAD,MAAyB,mCAAE,cAACC,GAAA,EAAD,MACjGC,OAAQxJ,EAAMwJ,aAOnB,SAASC,GAAMzJ,GACd,OACC,cAACe,EAAA,EAAD,CAAKC,GAAIhB,EAAMgB,GAAKhB,EAAMgB,GAAK,EAA/B,SACC,cAAC,KAAD,CACC0I,KAAM1J,EAAM2J,KAAKD,KACjBE,OAAQ5J,EAAM2J,KAAKC,OACnBC,OAAQ,CAAEC,gBAAgB,GAC1BjK,MAAO,CAAEqC,MAAO,YAMb,SAAS6H,GAAsB/J,GACrC,OACC,qCACC,cAAC,IAAD,iCACA,eAACa,EAAA,EAAD,WACC,cAACmI,GAAD,CACCrJ,MAAM,WACN+B,MAAO1B,EAAMgK,QAAQC,SACrBZ,YAAU,IAEX,cAACL,GAAD,CACCrJ,MAAM,sBACN+B,MAAsC,IAA/B1B,EAAMgK,QAAQE,eACrBhB,UAAW,EACXM,OAAO,MAER,cAACR,GAAD,CACCrJ,MAAM,eACN+B,MAAoC,IAA7B1B,EAAMgK,QAAQG,aACrBjB,UAAW,EACXM,OAAO,IACPJ,SAAO,IAER,cAACJ,GAAD,CACCrJ,MAAM,cACN+B,MAAmC,IAA5B1B,EAAMgK,QAAQI,YACrBlB,UAAW,EACXM,OAAO,IACPJ,SAAO,IAER,cAACJ,GAAD,CACCrJ,MAAM,aACN+B,MAAyC,IAAlC1B,EAAMgK,QAAQK,kBACrBnB,UAAW,EACXM,OAAO,SAGT,cAAC3I,EAAA,EAAD,UACC,cAAC4I,GAAD,CAAOE,KAAM3J,EAAMgK,QAAQM,UAAWtJ,GAAI,OAE3C,eAACH,EAAA,EAAD,WACC,cAAC4I,GAAD,CAAOE,KAAM3J,EAAMgK,QAAQO,cAC3B,cAACd,GAAD,CAAOE,KAAM3J,EAAMgK,QAAQQ,eAC3B,cAACf,GAAD,CAAOE,KAAM3J,EAAMgK,QAAQrD,MAC3B,cAAC8C,GAAD,CAAOE,KAAM3J,EAAMgK,QAAQS,iBAMxB,SAASC,GAAmB1K,GAClC,OACC,cAAC,IAAD,CAAOS,YAAaT,EAAM2K,QAA1B,SACC,cAAC,IAAD,CAAMC,UAAW/B,OCrFpB,IAAQtJ,GAASC,IAATD,KA6DOsL,OA3Df,SAAiC7K,GAChCgI,QAAQC,IAAIjI,EAAMmG,WAOlB,IANA,IAKIQ,EALEuB,EAAiBlI,EAAMmG,UAAUC,SAAS7F,OAAS,EACrD4H,EAAgB,EAChBC,EAAQ,EACR7B,EAAc,EAGVjG,EAAI,EAAGA,EAAIN,EAAMmG,UAAUC,SAAS7F,OAAQD,IACnD,IAAI,IAAIkG,EAAI,EAAGA,EAAIxG,EAAMmG,UAAUC,SAAS9F,GAAGmG,OAAOlG,OAAQiG,KAC7DG,EAAM3G,EAAMmG,UAAUC,SAAS9F,GAAGmG,OAAOD,GAAGG,IAAIjF,OACvC,GACR6E,IACSI,EAAM,GACfyB,IAEAD,IAMH,OACC,qCACC,cAAC,IAAD,wBACA,cAAC,IAAD,CAAOlD,aAAW,EAAC7D,UAAU,WAA7B,SAEE8D,OAAOC,KAAKnF,EAAMsC,QAAQD,KAAI,SAACqB,EAAKpD,GAAN,OAC7BN,EAAMsC,OAAOoB,GAAKhC,QAAU1B,EAAMsC,OAAOoB,GAAKa,QAC3C,cAAC,GAAD,CAAgBa,OAAO,SAASzF,MAAOK,EAAMsC,OAAOoB,GAAK/D,MAAOc,YAAaT,EAAMsC,OAAOoB,GAAK2B,QAAQ1D,QAAQ,IAAK3B,EAAMsC,OAAOoB,GAAKhC,QAA3HgC,GACX,UAIN,cAAC,IAAD,6BACA,cAAC,IAAD,CAAOuB,aAAW,EAAC7D,UAAU,WAA7B,SAEE,qCACC,cAAC,GAAD,CAAMgE,OAAO,SAASzF,MAAOuI,EAAiB,0BAA4B,yBAA0BzH,YAAY,sCAChH,cAAC,GAAD,CAAM2E,OAAO,SAASzF,OAAiB,GAATyI,EAAa,MAAQA,GAAS,sBAAiC,GAATA,EAAa,GAAK,OACtG,cAAC,GAAD,CAAMhD,OAAO,SAASzF,OAAuB,GAAf4G,EAAmB,MAAQA,GAAe,UAA2B,GAAfA,EAAmB,GAAK,SAC5G,cAAC,GAAD,CAAMnB,OAAO,SAASzF,OAAyB,GAAjBwI,EAAqB,MAAQA,GAAiB,cAAiC,GAAjBA,EAAqB,GAAK,YAKvHnI,EAAMqI,SAIN,KAHA,cAAC,IAAD,CAAO5H,YAAY,GAAG6E,MAAO,KAA7B,SACC,cAACrB,EAAD,CAAgBa,SAAO,EAACC,KAAK,mBAAmBJ,OAAO,qBAAqBrC,OAAQtC,EAAMsC,OAAQkB,QAASxD,EAAMuF,iBCAxGuF,G,kDAhDd,WAAY9K,GAAQ,IAAD,8BAClB,cAAMA,IACD0F,MAAQ,CAACqF,KAAM,EAAK/K,MAAMsC,OAAQ0H,QAAS,KAAMgB,SAAS,GAC/D,EAAKC,SAAW,EAAKA,SAASrF,KAAd,gBAHE,E,qDAMnB,WACCE,KAAKmF,a,sBAGN,WAAY,IAAD,OACJC,EAAa,GACnB,IAAK,IAAMxH,KAAOoC,KAAKJ,MAAMqF,KAC5BG,EAAWxH,GAAOoC,KAAKJ,MAAMqF,KAAKrH,GAAKhC,MAExCoE,KAAKC,SAAS,CAAEiF,SAAS,IAAQ,WAChCG,MAAM,mDAAoD,CACzDC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAM7C,KAAKE,UAAUuC,KACnBK,MAAK,SAACC,GAAD,OAASA,EAAIC,UAAQF,MAAK,SAACE,GAClC,EAAK1F,SAAS,CAAEiE,QAASyB,EAAMT,SAAS,Y,oBAK3C,WACC,OACC,eAACnK,EAAA,EAAD,WACC,cAACE,EAAA,EAAD,CAAKiF,GAAI,EAAT,SAEGF,KAAKJ,MAAMsE,QAIX,cAACD,GAAD,CAAuBC,QAASlE,KAAKJ,MAAMsE,UAH3C,qBAAKtK,UAAU,mDAAmDG,MAAO,CAAC6L,UAAW,KAArF,SACC,cAAChB,GAAD,CAAoBC,QAAQ,qDAKhC,cAAC5J,EAAA,EAAD,CAAKiF,GAAI,EAAGnG,MAAO,CAAC8L,YAAa,IAAjC,SACC,cAAC,GAAD,CAAyBrJ,OAAQwD,KAAK9F,MAAMsC,OAAQ6D,UAAWL,KAAK9F,MAAMuI,UAAUpC,qB,GA1CzDpC,IAAMC,WCArB8E,GAAA,EAEjB,SAAS8C,GAAsB5L,GAC9B,IAAM6L,EAAe,SAAAC,GAAG,OAAK9L,EAAM+L,IAAM,OAAM,IAAMD,EAAIE,oBAAeC,EAAW,CAACC,sBAAuB,EAAGC,sBAAuB,KAC/HC,EAAOP,EAAa7L,EAAMqM,UAC1BC,EAAOT,EAAa7L,EAAMuM,UAC5BpD,EAAS,KACPqD,EAAOxM,EAAMuM,SAAWvM,EAAMqM,SAC9BI,EAAOzM,EAAMuM,SAAWvM,EAAMqM,SAChCK,EAAc,QASlB,OARGF,GACFE,EAAc,QACdvD,EAAS,cAACG,GAAA,EAAD,CAAiBzJ,MAAO,CAAC8M,MAAOD,MAChCD,IACTC,EAAc,MACdvD,EAAS,cAACI,GAAA,EAAD,CAAmB1J,MAAO,CAAC8M,MAAOD,MAI3C,cAAC3L,EAAA,EAAD,CAAKlB,MAAO,CAAEiB,QAAS,GAAImI,OAAQ,IAAnC,SACC,cAAC,IAAD,CAAMpJ,MAAO,CAAEa,SAAU,KAAzB,SACC,cAAC,IAAD,CACCf,MAAOK,EAAML,MACb+B,MAAO,CAAC0K,EAAME,EAAMtM,EAAMqM,SAAUrM,EAAMuM,UAC1CjL,UAAW,SAAAsL,GAAC,OAAIA,EAAE,KAAOA,EAAE,GAAK,qCAAE,mBAAG/M,MAAO,CAAC8M,MAAO,QAAlB,SAA4BC,EAAE,KAAO,uBAAM,sBAAK/M,MAAO,CAAC8M,MAAOD,GAApB,UAAmCE,EAAE,GAAG,uBAAxC,IAAgDzD,EAAQ0C,EAAae,EAAE,GAAKA,EAAE,IAA9E,UAA+FA,EAAE,IAC9KpD,OAAQxJ,EAAMwJ,aAOnB,SAASC,GAAMzJ,GACd,OACC,qCACC,cAACe,EAAA,EAAD,CAAKC,GAAI,IACT,cAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACC,cAAC,KAAD,CACC0I,KAAM1J,EAAM2J,KAAKD,KACjBE,OAAQ5J,EAAM2J,KAAKC,OACnBC,OAAQ,CAAEC,gBAAgB,GAC1B+C,OAAQ7M,EAAM2J,KAAKkD,OACnBhN,MAAO,CAAEqC,MAAO,eAOd,SAAS4K,GAAqB9M,GAIpC,IAHA,IAAM+M,EAAQ,CAAC,MAAO,aAAc,qBAAsB,mBAAoB,WAAY,+BACpFC,EAAO,CAAC,MAAO,aAAc,qBAAsB,mBAAoB,WAAY,wBACrFC,EAAkB,GACd3M,EAAI,EAAGA,EAAI0M,EAAKzM,OAAQD,IAC/B2M,EAAgBzM,KACf,cAACoL,GAAD,CAECjM,MAAOoN,EAAMzM,GACb+L,SAAUrM,EAAMgK,QAAQgD,EAAK1M,IAAI4M,IACjCX,SAAUvM,EAAMgK,QAAQgD,EAAK1M,IAAI6M,IACjCpB,KAAG,GAJEzL,IAQR,OACC,qCACC,cAAC,IAAD,qCACA,cAACO,EAAA,EAAD,UACEoM,IAEF,cAACpM,EAAA,EAAD,UACC,cAAC,GAAD,CAAO8I,KAAM3J,EAAMgK,QAAQoD,oBAE5B,cAACvM,EAAA,EAAD,UACC,cAAC,GAAD,CAAO8I,KAAM3J,EAAMgK,QAAQqD,iBAE5B,cAACxM,EAAA,EAAD,UACC,cAAC,GAAD,CAAO8I,KAAM3J,EAAMgK,QAAQsD,iB,IC3BhBC,G,kDAhDd,WAAYvN,GAAQ,IAAD,8BAClB,cAAMA,IACD0F,MAAQ,CAACqF,KAAM,EAAK/K,MAAMsC,OAAQiG,UAAW,EAAKvI,MAAMuI,UAAWyB,QAAS,KAAMgB,SAAS,GAF9E,E,qDAKnB,WACClF,KAAKmF,a,sBAGN,WAAY,IAAD,OACNC,EAAa,GACjB,IAAK,IAAMxH,KAAOoC,KAAKJ,MAAMqF,KAC5BG,EAAWxH,GAAOoC,KAAKJ,MAAMqF,KAAKrH,GAAKhC,MAExCwJ,EAAU,UAAgBpF,KAAKJ,MAAM6C,UACrCzC,KAAKC,SAAS,CAAEiF,SAAS,IAAQ,WAChCG,MAAM,6DAA8D,CACnEC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAM7C,KAAKE,UAAUuC,KACnBK,MAAK,SAACC,GAAD,OAASA,EAAIC,UAAQF,MAAK,SAACE,GAClC,EAAK1F,SAAS,CAAEiE,QAASyB,EAAMT,SAAS,Y,oBAK3C,WACC,OACC,eAACnK,EAAA,EAAD,WACC,cAACE,EAAA,EAAD,CAAKiF,GAAI,EAAT,SAEGF,KAAKJ,MAAMsE,QAIX,cAAC8C,GAAD,CAAsB9C,QAASlE,KAAKJ,MAAMsE,UAH1C,qBAAKtK,UAAU,mDAAmDG,MAAO,CAAC6L,UAAW,KAArF,SACC,cAAChB,GAAD,CAAoBC,QAAQ,4CAKhC,cAAC5J,EAAA,EAAD,CAAKiF,GAAI,EAAGnG,MAAO,CAAC8L,YAAa,IAAjC,SACC,cAAC,GAAD,CAAyBrJ,OAAQwD,KAAK9F,MAAMsC,OAAQ6D,UAAWL,KAAK9F,MAAMuI,UAAUpC,UAAWkC,UAAQ,a,GA1C7EtE,IAAMC,W,8BCsKtBwJ,GA5KQ,CACtBC,WAAY,CACX9N,MAAO,aACPc,YAAa,kGACb8D,QAAS,GACT7C,MAAO,GACP2D,QAAS,8BACT5D,KAAM,QAEPiM,YAAa,CACZ/N,MAAO,cACPc,YAAa,6CACb8D,QAAS,GACT7C,MAAO,GACP2D,QAAS,+BACT5D,KAAM,QAEPkM,SAAU,CACThO,MAAO,kBACPc,YAAa,uEACb8D,QAAS,GACT7C,MAAO,GACP2D,QAAS,mCACT5D,KAAM,QAEPmM,gBAAiB,CAChBjO,MAAO,uBACPc,YAAa,wHACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,IACLqD,QAAS,sCACT5D,KAAM,UAEPoM,iBAAkB,CACjBlO,MAAO,wBACPc,YAAa,+GACb8D,QAAS,MACT7C,MAAO,MACPM,IAAK,IACLqD,QAAS,uCACT5D,KAAM,UAEPqM,cAAe,CACdnO,MAAO,kBACPc,YAAa,+CACb8D,QAAS,KACT7C,MAAO,KACPM,IAAK,IACLqD,QAAS,2CACT5D,KAAM,UAEPsM,mBAAoB,CACnBpO,MAAO,qBACPc,YAAa,0DACb8D,QAAS,MACT7C,MAAO,MACPM,IAAK,KACLqD,QAAS,8CACT5D,KAAM,UAEPuM,aAAc,CACbrO,MAAO,eACPc,YAAa,sHACb8D,QAAS,GACT7C,MAAO,GACP2D,QAAS,gCACT5D,KAAM,QAEPwM,YAAa,CACZtO,MAAO,qBACPc,YAAa,gGACb8D,QAAS,EACT7C,MAAO,EACP2D,QAAS,sCACT5D,KAAM,QAEPyM,MAAO,CACNvO,MAAO,uBACPc,YAAa,oEACb8D,QAAS,IACT7C,MAAO,IACPM,IAAK,IACLqD,QAAS,8BACT5D,KAAM,UAEP0M,OAAQ,CACPxO,MAAO,0BACPc,YAAa,uEACb8D,QAAS,IACT7C,MAAO,IACPM,IAAK,IACLqD,QAAS,+BACT5D,KAAM,UAEP2M,UAAW,CACVzO,MAAO,YACPc,YAAa,qGACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,IACLqD,QAAS,gDACT5D,KAAM,UAEP4M,UAAW,CACV1O,MAAO,YACPc,YAAa,4FACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,IACLqD,QAAS,8CACT5D,KAAM,UAEP6M,WAAY,CACX3O,MAAO,aACPc,YAAa,+EACb8D,QAAS,EACT7C,MAAO,EACPM,IAAK,IACLqD,QAAS,+CACT5D,KAAM,UAEP8M,0BAA2B,CAC1B5O,MAAO,6BACPc,YAAa,kNACb8D,SAAS,EACT7C,OAAO,EACP2D,QAAS,yCACT5D,KAAM,QAEP+M,2BAA4B,CAC3B7O,MAAO,qBACPc,YAAa,mHACb8D,SAAS,EACT7C,OAAO,EACP2D,QAAS,iCACT5D,KAAM,QAEPgN,mBAAoB,CACnB9O,MAAO,aACPc,YAAa,uEACb8D,SAAS,EACT7C,OAAO,EACP2D,QAAS,qBACT5D,KAAM,QAEPiN,WAAY,CACX/O,MAAO,qBACPc,YAAa,4CACb8D,SAAS,EACT7C,OAAO,EACP2D,QAAS,6BACT5D,KAAM,QAEPkN,WAAY,CACXhP,MAAO,2BACPc,YAAa,oGACb8D,SAAS,EACT7C,OAAO,EACP2D,QAAS,2BACT5D,KAAM,QAEPmN,WAAY,CACXjP,MAAO,wBACPc,YAAa,2GACb8D,SAAS,EACT7C,OAAO,EACP2D,QAAS,wBACT5D,KAAM,SC3IR,SAASoN,KACR,IAAI9D,EAAOyC,GACX,GAAIsB,SAASzK,SAAS0K,KAAKpH,SAAS,KAAM,CACzC,IADyC,EACnCzD,EAAe,IAAIC,gBAAgB2K,SAASzK,SAAS0K,KAAKnK,WAAWoK,MAAMF,SAASzK,SAAS0K,KAAKE,QAAQ,OADvE,cAEvB/K,EAAaiB,QAFU,IAEzC,2BAAuC,CAAC,IAA7BzB,EAA4B,QACtCqH,EAAKrH,GAAKhC,OAASwC,EAAagL,IAAIxL,IAHI,+BAM1C,OAAOqH,E,IAwCOoE,G,kDAlCd,WAAYnP,GAAQ,IAAD,8BAClB,cAAMA,IACD0F,MAAQ,CAACpD,OAAQuM,KAAoBtG,UAAW,CAACpC,UAAWoB,IAF/C,E,0CAInB,WAAU,IAAD,OACR,OACC,cAAC,aAAD,CAAQ6H,SAAS,IAAjB,SACC,cAAC,KAAD,CAAWC,GAAG,eAAd,SACC,cAAC1O,EAAA,EAAD,CAAWC,OAAK,EAACf,MAAO,CAACC,cAAe,IAAxC,SACC,eAAC,KAAD,WACC,eAAC,KAAD,CAAOwP,KAAK,IAAIC,OAAK,EAArB,UACC,cAAC,EAAD,CAAQpO,KAAM,IACd,cAAC,EAAD,CAAQmB,OAAQwD,KAAKJ,MAAMpD,OAAQiD,SAAU,SAAAjD,GAAW,EAAKyD,SAAS,CAACzD,OAAQA,UAEhF,eAAC,KAAD,CAAOgN,KAAK,aAAZ,UACC,cAAC,EAAD,CAAQnO,KAAM,IACd,cAAC,EAAD,CAAWmB,OAAQwD,KAAKJ,MAAMpD,OAAQiD,SAAU,SAAAgD,GAAa,EAAKxC,SAAS,CAACwC,UAAWA,KAAeA,UAAWzC,KAAKJ,MAAM6C,eAE7H,eAAC,KAAD,CAAO+G,KAAK,sBAAZ,UACC,cAAC,EAAD,CAAQnO,KAAM,IACd,cAAC,GAAD,CAAmBmB,OAAQwD,KAAKJ,MAAMpD,OAAQiG,UAAWzC,KAAKJ,MAAM6C,eAErE,eAAC,KAAD,CAAO+G,KAAK,qBAAZ,UACC,cAAC,EAAD,CAAQnO,KAAM,IACd,cAAC,GAAD,CAAkBmB,OAAQwD,KAAKJ,MAAMpD,OAAQiG,UAAWzC,KAAKJ,MAAM6C,4B,GAzBzDxE,IAAMC,WCtCxBwL,IAASC,OACR,cAAC,GAAD,IACAX,SAASY,eAAe,W","file":"static/js/main.55dc7a11.chunk.js","sourcesContent":["import { Row, Col, Container } from \"react-bootstrap\";\nimport React from \"react\";\nimport { Steps, PageHeader } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../../css/App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\n\nconst { Step } = Steps;\n\nfunction getURLParamsFromPolicy(target, policy) {\n\tlet searchParams = new URLSearchParams(window.location.search);\n\tfor (const key in policy) {\n\t\tif (policy[key].value !== policy[key].default) {\n\t\t\tsearchParams.set(key, +policy[key].value);\n\t\t} else {\n\t\t\tsearchParams.delete(key);\n\t\t}\n\t}\n\tconst url = `${target || \"/situation\"}?${searchParams.toString()}`;\n\treturn url;\n}\n\nfunction TopHeader() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-none d-md-block\">\n\t\t\t\t<PageHeader\n\t\t\t\t\ttitle=\"UK Policy Engine\"\n\t\t\t\t\tsubTitle=\"by the UBI Center\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"d-md-none\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\ttitle=\"UK Policy Engine\"\n\t\t\t\t\t\tstyle={{paddingBottom: 8}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<div className=\"ant-page-header-heading-sub-title\">\n\t\t\t\t\t\tBy the UBI Center\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nfunction Header(props) {\n\tconst INTRO = (\n\t\t<p style={{fontSize: 16}}>\n      Welcome to the UBI Center's UK Policy Engine. Powered by the open-source\n      microsimulation model OpenFisca-UK, this site allows you to experiment\n      with different changes to how taxes and benefits are set in the United\n      Kingdom, and simulate the results on people, families and households in\n      the country.\n\t\t</p>\n\t);\n\tconst TITLES = [\"Policy\", \"About you\", \"UK-wide effects\", \"Your results\"];\n\tconst DESCRIPTIONS = [\n\t\t\"Specify changes to the current taxes and benefit programmes\",\n\t\t\"Describe your household to calculate the effects on you and your family\",\n\t\t\"Simulate the changes on people, families and households in the UK\",\n\t\t\"Simulate the reform, showing your finances before and after\"\n\t];\n\tlet steps = [];\n\tfor(let i = 0; i < TITLES.length; i++) {\n\t\tsteps.push(<Step key={i} title={TITLES[i]} description={DESCRIPTIONS[i]} style={{minWidth: 200}}/>);\n\t}\n\treturn (\n\t\t<>\n\t\t\t<TopHeader />\n\t\t\t<Container fluid>\n\t\t\t\t<Row style={{ padding: 50 }} className=\"d-none d-xl-flex\">\n\t\t\t\t\t<Col md={4} style={{paddingRight: 40}}>{INTRO}</Col>\n\t\t\t\t\t<Col md={8}>\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Steps current={props.step}>\n\t\t\t\t\t\t\t\t\t{steps}\n\t\t\t\t\t\t\t\t</Steps>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ padding: 10 }} className=\"d-xl-none\">\n\t\t\t\t\t<Col md={4} style={{ paddingBottom: 20 }}>\n\t\t\t\t\t\t{INTRO}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={8}>\n\t\t\t\t\t\t<Steps current={props.step} direction=\"vertical\">\n\t\t\t\t\t\t\t{steps}\n\t\t\t\t\t\t</Steps>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t</>\n\t);\n}\n\nexport default Header;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport \"antd/dist/antd.css\";\nimport {\n\tInputNumber, Divider, Switch, Slider,\n} from \"antd\";\n\nfunction Parameter(props) {\n\tlet formatter = null;\n\tlet parser = null;\n\tif (props.param.type === \"rate\") {\n\t\tformatter = (value) => `${value}%`;\n\t\tparser = (value) => value.replace(\"%\", \"\");\n\t} else if (props.param.type === \"weekly\") {\n\t\tformatter = (value) => `£${value}/week`;\n\t\tparser = (value) => value.replace(\"£\", \"\").replace(\"/week\", \"\");\n\t} else if (props.param.type === \"yearly\") {\n\t\tformatter = (value) => `£${value}/year`;\n\t\tparser = (value) => value.replace(\"£\", \"\").replace(\"/year\", \"\");\n\t} else if (props.param.type === \"monthly\") {\n\t\tformatter = (value) => `£${value}/month`;\n\t\tparser = (value) => value.replace(\"£\", \"\").replace(\"/month\", \"\");\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Divider>{props.param.title}</Divider>\n\t\t\t<p>{props.param.description}</p>\n\t\t\t{props.param.type === \"bool\"\n\t\t\t\t? (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tprops.onChange(props.name, value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tchecked={props.param.value}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t\t: (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tvalue={props.param.value}\n\t\t\t\t\t\t\tmin={props.param.min || 0}\n\t\t\t\t\t\t\tmax={props.param.max || 100}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\tprops.onChange(props.name, value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttooltipVisible={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\tvalue={props.param.value}\n\t\t\t\t\t\t\tmin={props.param.min ? props.min : null}\n\t\t\t\t\t\t\tmax={props.param.max ? props.max : null}\n\t\t\t\t\t\t\tformatter={formatter}\n\t\t\t\t\t\t\tparser={parser}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\tprops.onChange(props.name, value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{ width: 175 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport function ParameterGroup(props) {\n\treturn (\n\t\t<>\n\t\t\t{props.names.map((name) => <Parameter key={name} name={name} param={props.policy[name]} onChange={props.onChange} rate />)}\n\t\t</>\n\t);\n}\n\nexport function NothingControls(props) {\n\treturn (\n\t\t<>\n\t\t\t<Divider>No parameters available</Divider>\n\t\t\t<p>No parameters are currently available for this category.</p>\n\t\t</>\n\t);\n}\n\nfunction PolicyControls(props) {\n\tconst controlSet = {\n\t\tmain_rates: [\n\t\t\t\"basic_rate\",\n\t\t\t\"basic_threshold\",\n\t\t\t\"higher_rate\",\n\t\t\t\"higher_threshold\",\n\t\t\t\"add_rate\",\n\t\t\t\"add_threshold\",\n\t\t],\n\t\tsav_div: [\n\t\t\t\"abolish_savings_allowance\",\n\t\t\t\"abolish_dividend_allowance\",\n\t\t],\n\t\tit_alt: [\n\t\t\t\"abolish_income_tax\"\n\t\t],\n\t\temployee_side: [\n\t\t\t\"NI_main_rate\",\n\t\t\t\"NI_PT\",\n\t\t\t\"NI_add_rate\",\n\t\t\t\"NI_UEL\",\n\t\t],\n\t\tni_alt: [\n\t\t\t\"abolish_NI\"\n\t\t],\n\t\tallowances: [\n\t\t\t\"personal_allowance\",\n\t\t],\n\t\tbasic_income: [\n\t\t\t\"child_UBI\",\n\t\t\t\"adult_UBI\",\n\t\t\t\"senior_UBI\",\n\t\t],\n\t\tuniversal_credit: [\"abolish_UC\"],\n\t\tcb: [\"abolish_CB\"]\n\t};\n\tconst names = controlSet[props.selected];\n\tif (!(props.selected in controlSet)) {\n\t\treturn <NothingControls key={props.selected} policy={props.policy} />;\n\t}\n\treturn <ParameterGroup key={props.selected} onChange={props.onChange} policy={props.policy} names={names} />;\n}\n\nexport default PolicyControls;","import { Menu } from \"antd\";\nimport React from \"react\";\n\nconst { SubMenu } = Menu;\n\nclass PolicyMenu extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tonClick={(e) => {this.props.onClick(e.key);}}\n\t\t\t\tmode=\"inline\"\n\t\t\t\tdefaultOpenKeys={[\"tax\", \"income_tax\"]}\n\t\t\t\tdefaultSelectedKeys={[\"main_rates\"]}\n\t\t\t>\n\t\t\t\t<SubMenu key=\"tax\" title=\"Tax\">\n\t\t\t\t\t<SubMenu key=\"income_tax\" title=\"Income Tax\">\n\t\t\t\t\t\t<Menu.Item key=\"main_rates\">Labour income</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"sav_div\">Savings and dividends</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"allowances\">Allowances</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"it_alt\">Structural</Menu.Item>\n\t\t\t\t\t</SubMenu>\n\t\t\t\t\t<SubMenu key=\"national_insurance\" title=\"National Insurance\">\n\t\t\t\t\t\t<Menu.Item key=\"employee_side\">Employees</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"employer_side\">Employers</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"ni_alt\">Structural</Menu.Item>\n\t\t\t\t\t</SubMenu>\n\t\t\t\t</SubMenu>\n\t\t\t\t<SubMenu key=\"benefit\" title=\"Benefit\">\n\t\t\t\t\t<SubMenu key=\"means\" title=\"Means-tested benefits\">\n\t\t\t\t\t\t<Menu.Item key=\"universal_credit\">Universal Credit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"jsa\">JSA</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"cb\">Child Benefit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"wtc\">Working Tax Credit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"ctc\">Child Tax Credit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"hb\">Housing Benefit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"is\">Income Support</Menu.Item>\n\t\t\t\t\t</SubMenu>\n\t\t\t\t</SubMenu>\n\t\t\t\t<Menu.Item key=\"basic_income\">Basic income</Menu.Item>\n\t\t\t</Menu>\n\t\t);\n\t}\n}\n\nexport default PolicyMenu;","import { Steps, Divider, Empty, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nconst { Step } = Steps;\n\nexport function SimulateButton(props) {\n\tconst { policy } = props;\n\tlet searchParams = new URLSearchParams(window.location.search);\n\tfor (const key in policy) {\n\t\tif (policy[key].value !== policy[key].default) {\n\t\t\tsearchParams.set(key, +policy[key].value);\n\t\t} else {\n\t\t\tsearchParams.delete(key);\n\t\t}\n\t}\n\tconst url = `${props.target || \"/situation\"}?${searchParams.toString()}`;\n\treturn (\n\t\t<div>\n\t\t\t<Link to={url}><Button type={props.primary ? \"primary\" : null} onClick={props.onClick}>{props.text || \"Simulate\"}</Button></Link>\n\t\t</div>\n\t);\n}\n\nfunction PolicyOverview(props) {\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your plan</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\tObject.keys(props.policy).map((key, i) => (\n\t\t\t\t\t\tprops.policy[key].value !== props.policy[key].default\n\t\t\t\t\t\t\t? <Step key={key} status=\"finish\" title={props.policy[key].title} description={props.policy[key].summary.replace(\"@\", props.policy[key].value)} />\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t<Empty description=\"\" image={null}>\n\t\t\t\t<SimulateButton primary policy={props.policy} onClick={props.onSubmit} text=\"Describe your situation\"/>\n\t\t\t\t<div style={{paddingTop: 30}} />\n\t\t\t\t<SimulateButton text=\"Simulate on the population\" target=\"/population-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t</Empty>\n\t\t</>\n\t);\n}\n\n\n\nexport default PolicyOverview;","import React from \"react\";\nimport PolicyControls from \"./policy/controls\";\nimport PolicyMenu from \"./policy/menu\";\nimport PolicyOverview from \"./policy/overview\";\nimport {Row, Col} from \"react-bootstrap\";\n\n\nclass Policy extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {policy: props.policy, selected: \"main_rates\"};\n\t\tthis.updatePolicy = this.updatePolicy.bind(this);\n\t\tthis.selectPolicyMenuItem = this.selectPolicyMenuItem.bind(this);\n\t}\n\n\tselectPolicyMenuItem(name) {\n\t\tthis.setState({selected: name});\n\t}\n\n\tupdatePolicy(name, value) {\n\t\tlet policy = this.state.policy;\n\t\tpolicy[name].value = value;\n\t\tthis.setState({policy: policy});\n\t}\n    \n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<PolicyMenu onClick={this.selectPolicyMenuItem}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={6}>\n\t\t\t\t\t<PolicyControls policy={this.state.policy} selected={this.state.selected} onChange={this.updatePolicy}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<PolicyOverview policy={this.state.policy} onSubmit={() => {this.props.onSubmit(this.state.policy);}}/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default Policy;","import { Menu } from \"antd\";\n\nconst { SubMenu } = Menu;\n\nfunction SituationMenu(props) {\n\tlet familyMenuItems = [];\n\tfor(let i = 0; i < props.household.families.length; i++) {\n\t\tconst familyName = `family-${i}`;\n\t\tlet peopleMenuItems = [];\n\t\tlet numChildren = 0;\n\t\tfor(let j = 0; j < props.household.families[i].people.length; j++) {\n\t\t\tconst name = `family-${i}-person-${j}`;\n\t\t\tconst isAdult = props.household.families[i].people[j].age.value >= 18;\n\t\t\tconst title = isAdult ? \"Adult\" : \"Child\";\n\t\t\tif(!isAdult) {\n\t\t\t\tnumChildren++;\n\t\t\t}\n\t\t\tconst index = isAdult ? j - numChildren + 1 : numChildren;\n\t\t\tpeopleMenuItems.push(\n\t\t\t\t<Menu.Item key={name}>{title} {index}</Menu.Item>\n\t\t\t);\n\t\t}\n\t\tfamilyMenuItems.push(\n\t\t\t<SubMenu key={familyName} title={props.household.families.length == 1 ? \"Family\" : `Family ${i + 1}`}>\n\t\t\t\t<Menu.Item key={`family-${i}-overview`}>Overview</Menu.Item>\n\t\t\t\t{peopleMenuItems}\n\t\t\t</SubMenu>\n\t\t);\n\t};\n\treturn (\n\t\t<Menu\n\t\t\tmode=\"inline\"\n\t\t\tonClick={e => props.onSelect(e.key)}\n\t\t\tdefaultOpenKeys={[\"family-0\"]}\n\t\t\tdefaultSelectedKeys={[\"household\"]}\n\t\t>\n\t\t\t<Menu.Item key=\"household\">Your household</Menu.Item>\n\t\t\t{familyMenuItems}\n\t\t</Menu>\n\t);\n}\n\nexport default SituationMenu;","export const DEFAULT_HOUSEHOLD = {\n\tnum_families: {\n\t\ttitle: \"Number of families\",\n\t\tdescription: \"The number of nuclear families (benefit units) in the household. A family is at most two adults and any number of children. If you have more than two adults in the household, increase this beyond one\",\n\t\tdefault: 1,\n\t\tvalue: 1,\n\t\tmax: 3,\n\t}\n};\n\nexport const DEFAULT_FAMILY = {\n\tnum_people: {\n\t\ttitle: \"Number of people\",\n\t\tdescription: \"The number of people in the family\",\n\t\tdefault: 1,\n\t\tvalue: 1,\n\t\tmax: 2,\n\t}\n};\n\nexport const DEFAULT_PERSON = {\n\tage: {\n\t\ttitle: \"Age\",\n\t\tdescription: \"The age of the person\",\n\t\tdefault: 18,\n\t\tvalue: 18,\n\t\tmax: 80\n\t},\n\temployment_income: {\n\t\ttitle: \"Employment income\",\n\t\tdescription: \"Income from employment (gross)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 80000\n\t},\n\tpension_income: {\n\t\ttitle: \"Pension income\",\n\t\tdescription: \"Income from pensions (excluding the State Pension)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 150000\n\t},\n\tsavings_interest_income: {\n\t\ttitle: \"Savings interest income\",\n\t\tdescription: \"Income from savings interest (including ISAs)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 5000\n\t},\n\tdividend_income: {\n\t\ttitle: \"Dividend income\",\n\t\tdescription: \"Income from dividends\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 5000\n\t},\n};\n\nconst DEFAULT_SITUATION = {\n\t...DEFAULT_HOUSEHOLD,\n\tfamilies: [\n\t\t{\n\t\t\t...DEFAULT_FAMILY,\n\t\t\tpeople: [\n\t\t\t\tDEFAULT_PERSON\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport default DEFAULT_SITUATION;","import { ParameterGroup } from \"../policy/controls\";\nimport { DEFAULT_HOUSEHOLD, DEFAULT_FAMILY, DEFAULT_PERSON } from \"./default_situation\";\n\nfunction SituationControls(props) {\n\tconst returnFunction = (key, value) => {props.onEnter(key, value, props.selected);};\n\tif(props.selected.includes(\"person\")) {\n\t\tconst family_number = +props.selected.split(\"-\")[1];\n\t\tconst person_number = +props.selected.split(\"-\")[3];\n\t\treturn <ParameterGroup onChange={returnFunction} policy={props.household.families[family_number].people[person_number]} names={Object.keys(DEFAULT_PERSON)} />;\n\t} else if(props.selected.includes(\"family\")) {\n\t\tconst family_number = +props.selected.split(\"-\")[1];\n\t\treturn <ParameterGroup onChange={returnFunction} policy={props.household.families[family_number]} names={Object.keys(DEFAULT_FAMILY)} />;\n\t} else {\n\t\treturn <ParameterGroup onChange={returnFunction} policy={props.household} names={Object.keys(DEFAULT_HOUSEHOLD)} />;\n\t}\n}\n\nexport default SituationControls;","import { Steps, Divider, Empty, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { SimulateButton } from \"../policy/overview\";\n\nconst { Step } = Steps;\n\nfunction SituationOverview(props) {\n\tconsole.log(props.household);\n\tconst isSingleFamily = props.household.families.length < 2;\n\tlet numPensioners = 0;\n\tlet numWA = 0;\n\tlet numChildren = 0;\n\n\tlet age;\n\tfor(let i = 0; i < props.household.families.length; i++) {\n\t\tfor(let j = 0; j < props.household.families[i].people.length; j++) {\n\t\t\tage = props.household.families[i].people[j].age.value;\n\t\t\tif(age < 18) {\n\t\t\t\tnumChildren++;\n\t\t\t} else if(age < 65) {\n\t\t\t\tnumWA++;\n\t\t\t} else {\n\t\t\t\tnumPensioners++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your plan</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\tObject.keys(props.policy).map((key, i) => (\n\t\t\t\t\t\tprops.policy[key].value !== props.policy[key].default\n\t\t\t\t\t\t\t? <Step key={key} status=\"finish\" title={props.policy[key].title} description={props.policy[key].summary.replace(\"@\", props.policy[key].value)} />\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t<Divider>Your situation</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Step status=\"finish\" title={isSingleFamily ? \"Single-family household\" : \"Multi-family household\"} description=\"This affects benefit entitlements\" />\n\t\t\t\t\t\t<Step status=\"finish\" title={(numWA == 0 ? \"No \" : numWA) + \" working-age adult\" + (numWA == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numChildren == 0 ? \"No \" : numChildren) + \" child\" + (numChildren == 1 ? \"\" : \"ren\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numPensioners == 0 ? \"No \" : numPensioners) + \" pensioner\" + (numPensioners == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t{\n\t\t\t\t!props.noButton ?\n\t\t\t\t\t<Empty description=\"\" image={null}>\n\t\t\t\t\t\t<SimulateButton primary text=\"Simulate on the population\" target=\"/population-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t\t\t\t<div style={{paddingTop: 30}} />\n\t\t\t\t\t\t<SimulateButton text=\"Skip to your outcome\" target=\"/situation-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t\t\t</Empty> :\n\t\t\t\t\t<></>\n\t\t\t}\n\t\t\t\n\t\t</>\n\t);\n}\n\n\n\nexport default SituationOverview;","import React from \"react\";\nimport SituationMenu from \"./situation/menu\";\nimport { Row, Col } from \"react-bootstrap\";\nimport SituationControls from \"./situation/controls\";\nimport { DEFAULT_FAMILY, DEFAULT_PERSON } from \"./situation/default_situation\";\nimport SituationOverview from \"./situation/overview\";\n\nclass Situation extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {household: this.props.situation.household, selected: \"household\"};\n\t\tthis.updateSituation = this.updateSituation.bind(this);\n\t}\n\n\tupdateSituation(key, value, selected) {\n\t\tlet household = this.state.household;\n\t\tif(selected.includes(\"family\")) {\n\t\t\tconst family_number = +selected.split(\"-\")[1];\n\t\t\tif(selected.includes(\"person\")) {\n\t\t\t\tconst person_number = +selected.split(\"-\")[3];\n\t\t\t\thousehold.families[family_number].people[person_number][key].value = value;\n\t\t\t} else {\n\t\t\t\thousehold.families[family_number][key].value = value;\n\t\t\t}\n\t\t} else {\n\t\t\thousehold[key].value = value;\n\t\t}\n\t\twhile(household.num_families.value > household.families.length) {\n\t\t\thousehold.families.push({ ...JSON.parse(JSON.stringify(DEFAULT_FAMILY)), people: []});\n\t\t}\n\t\twhile(household.num_families.value < household.families.length) {\n\t\t\thousehold.families.pop();\n\t\t}\n\t\tfor(let i = 0; i < household.families.length; i++) {\n\t\t\twhile(household.families[i].num_people.value > household.families[i].people.length) {\n\t\t\t\thousehold.families[i].people.push({...JSON.parse(JSON.stringify(DEFAULT_PERSON))});\n\t\t\t}\n\t\t\twhile(household.families[i].num_people.value < household.families[i].people.length) {\n\t\t\t\thousehold.families[i].people.pop();\n\t\t\t}\n\t\t}\n\t\tthis.setState({household: household});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<SituationMenu household={this.state.household} onSelect={name => {this.setState({selected: name});}}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={6}>\n\t\t\t\t\t<SituationControls selected={this.state.selected} household={this.state.household} onEnter={this.updateSituation}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<SituationOverview policy={this.props.policy} household={this.state.household} onSubmit={() => {this.props.onSubmit({household: this.state.household});}}/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default Situation;","import { Divider, Empty, Spin, Card, Statistic } from \"antd\";\nimport Plot from \"react-plotly.js\";\nimport { ArrowUpOutlined, ArrowDownOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { Row, Col } from \"react-bootstrap\";\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction HeadlineFigure(props) {\n\treturn (\n\t\t<Col style={{ padding: 10, margin: 10 }}>\n\t\t\t<Card style={{ minWidth: 150 }}>\n\t\t\t\t<Statistic\n\t\t\t\t\ttitle={props.title}\n\t\t\t\t\tvalue={props.value}\n\t\t\t\t\tprecision={props.precision}\n\t\t\t\t\tprefix={(!props.noArrow && !props.nonNumeric) ? (props.value >= 0 ? <><ArrowUpOutlined /></> : <><ArrowDownOutlined /></>) : <></>}\n\t\t\t\t\tsuffix={props.suffix}\n\t\t\t\t/>\n\t\t\t</Card>\n\t\t</Col>\n\t);\n}\n\nfunction Chart(props) {\n\treturn (\n\t\t<Col md={props.md ? props.md : 6}>\n\t\t\t<Plot\n\t\t\t\tdata={props.plot.data}\n\t\t\t\tlayout={props.plot.layout}\n\t\t\t\tconfig={{ displayModeBar: false }}\n\t\t\t\tstyle={{ width: \"100%\" }} \n\t\t\t/>\n\t\t</Col>\n\t);\n}\n\nexport function PopulationResultsPane(props) {\n\treturn (\n\t\t<>\n\t\t\t<Divider>Population results</Divider>\n\t\t\t<Row>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Net cost\" \n\t\t\t\t\tvalue={props.results.net_cost} \n\t\t\t\t\tnonNumeric\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Poverty rate change\" \n\t\t\t\t\tvalue={props.results.poverty_change * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Winner share\" \n\t\t\t\t\tvalue={props.results.winner_share * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\tnoArrow\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Loser share\" \n\t\t\t\t\tvalue={props.results.loser_share * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\tnoArrow\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Inequality\" \n\t\t\t\t\tvalue={props.results.inequality_change * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Chart plot={props.results.waterfall} md={12} />\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Chart plot={props.results.decile_plot} />\n\t\t\t\t<Chart plot={props.results.poverty_plot} />\n\t\t\t\t<Chart plot={props.results.age} />\n\t\t\t\t<Chart plot={props.results.mtr_plot} />\n\t\t\t</Row>\n\t\t</>\n\t);\n}\n\nexport function LoadingResultsPane(props) {\n\treturn (\n\t\t<Empty description={props.message}>\n\t\t\t<Spin indicator={antIcon} />\n\t\t</Empty>\n\t);\n}","import { Steps, Divider, Empty, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { SimulateButton } from \"../policy/overview\";\n\nconst { Step } = Steps;\n\nfunction PolicySituationOverview(props) {\n\tconsole.log(props.household);\n\tconst isSingleFamily = props.household.families.length < 2;\n\tlet numPensioners = 0;\n\tlet numWA = 0;\n\tlet numChildren = 0;\n\n\tlet age;\n\tfor(let i = 0; i < props.household.families.length; i++) {\n\t\tfor(let j = 0; j < props.household.families[i].people.length; j++) {\n\t\t\tage = props.household.families[i].people[j].age.value;\n\t\t\tif(age < 18) {\n\t\t\t\tnumChildren++;\n\t\t\t} else if(age < 65) {\n\t\t\t\tnumWA++;\n\t\t\t} else {\n\t\t\t\tnumPensioners++;\n\t\t\t}\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your plan</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\tObject.keys(props.policy).map((key, i) => (\n\t\t\t\t\t\tprops.policy[key].value !== props.policy[key].default\n\t\t\t\t\t\t\t? <Step key={key} status=\"finish\" title={props.policy[key].title} description={props.policy[key].summary.replace(\"@\", props.policy[key].value)} />\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t<Divider>Your situation</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Step status=\"finish\" title={isSingleFamily ? \"Single-family household\" : \"Multi-family household\"} description=\"This affects benefit entitlements\" />\n\t\t\t\t\t\t<Step status=\"finish\" title={(numWA == 0 ? \"No \" : numWA) + \" working-age adult\" + (numWA == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numChildren == 0 ? \"No \" : numChildren) + \" child\" + (numChildren == 1 ? \"\" : \"ren\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numPensioners == 0 ? \"No \" : numPensioners) + \" pensioner\" + (numPensioners == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t{\n\t\t\t\t!props.noButton ?\n\t\t\t\t\t<Empty description=\"\" image={null}>\n\t\t\t\t\t\t<SimulateButton primary text=\"See your results\" target=\"/situation-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t\t\t</Empty> :\n\t\t\t\t\tnull\n\t\t\t}\n\t\t\t\n\t\t</>\n\t);\n}\n\n\n\nexport default PolicySituationOverview;","import React from \"react\";\nimport { PopulationResultsPane, LoadingResultsPane } from \"./population-results/results\";\nimport PolicySituationOverview from \"./population-results/overview\";\nimport { Row, Col } from \"react-bootstrap\";\n\nclass PopulationResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {plan: this.props.policy, results: null, waiting: false};\n\t\tthis.simulate = this.simulate.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.simulate();\n\t}\n\n\tsimulate() {\n\t\tconst submission = {};\n\t\tfor (const key in this.state.plan) {\n\t\t\tsubmission[key] = this.state.plan[key].value;\n\t\t}\n\t\tthis.setState({ waiting: true }, () => {\n\t\t\tfetch(\"https://uk-policy-engine.uw.r.appspot.com/reform\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(submission),\n\t\t\t}).then((res) => res.json()).then((json) => {\n\t\t\t\tthis.setState({ results: json, waiting: false });\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={9}>\n\t\t\t\t\t{\n\t\t\t\t\t\t!this.state.results ?\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{minHeight: 400}}>\n\t\t\t\t\t\t\t\t<LoadingResultsPane message=\"Simulating your results on the UK population\"/>\n\t\t\t\t\t\t\t</div> :\n\t\t\t\t\t\t\t<PopulationResultsPane results={this.state.results} />\n\t\t\t\t\t}\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3} style={{paddingLeft: 50}}>\n\t\t\t\t\t<PolicySituationOverview policy={this.props.policy} household={this.props.situation.household}/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default PopulationResults;","import { Divider, Empty, Spin, Card, Statistic } from \"antd\";\nimport Plot from \"react-plotly.js\";\nimport { ArrowUpOutlined, ArrowDownOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { Row, Col } from \"react-bootstrap\";\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction ChangedHeadlineFigure(props) {\n\tconst formatNumber = num => (props.gbp ? \"£\" : \"\") + num.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});\n\tconst oldV = formatNumber(props.oldValue);\n\tconst newV = formatNumber(props.newValue);\n\tlet prefix = null;\n\tconst gain = props.newValue > props.oldValue;\n\tconst loss = props.newValue < props.oldValue;\n\tlet changeColor = \"black\";\n\tif(gain) {\n\t\tchangeColor = \"green\";\n\t\tprefix = <ArrowUpOutlined style={{color: changeColor}} />;\n\t} else if(loss) {\n\t\tchangeColor = \"red\";\n\t\tprefix = <ArrowDownOutlined style={{color: changeColor}}/>;\n\t}\n\n\treturn (\n\t\t<Col style={{ padding: 10, margin: 10 }}>\n\t\t\t<Card style={{ minWidth: 300 }}>\n\t\t\t\t<Statistic\n\t\t\t\t\ttitle={props.title}\n\t\t\t\t\tvalue={[oldV, newV, props.oldValue, props.newValue]}\n\t\t\t\t\tformatter={x => x[0] !== x[1] ? <><s style={{color: \"grey\"}}>{x[0]}</s><br /><div style={{color: changeColor}}>{x[1]}<br />({prefix}{formatNumber(x[3] - x[2])})</div></> : x[0]}\n\t\t\t\t\tsuffix={props.suffix}\n\t\t\t\t/>\n\t\t\t</Card>\n\t\t</Col>\n\t);\n}\n\nfunction Chart(props) {\n\treturn (\n\t\t<>\n\t\t\t<Col md={3} />\n\t\t\t<Col md={6} >\n\t\t\t\t<Plot\n\t\t\t\t\tdata={props.plot.data}\n\t\t\t\t\tlayout={props.plot.layout}\n\t\t\t\t\tconfig={{ displayModeBar: false }}\n\t\t\t\t\tframes={props.plot.frames}\n\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t/>\n\t\t\t</Col>\n\t\t</>\n\t);\n}\n\nexport function SituationResultsPane(props) {\n\tconst NAMES = [\"Tax\", \"Income Tax\", \"National Insurance\", \"Universal Credit\", \"Benefits\", \"Household disposable income\"];\n\tconst KEYS = [\"tax\", \"income_tax\", \"national_insurance\", \"universal_credit\", \"benefits\", \"household_net_income\"];\n\tlet headlineFigures = [];\n\tfor(let i = 0; i < KEYS.length; i++) {\n\t\theadlineFigures.push(\n\t\t\t<ChangedHeadlineFigure \n\t\t\t\tkey={i}\n\t\t\t\ttitle={NAMES[i]}\n\t\t\t\toldValue={props.results[KEYS[i]].old}\n\t\t\t\tnewValue={props.results[KEYS[i]].new}\n\t\t\t\tgbp\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your situation results</Divider>\n\t\t\t<Row>\n\t\t\t\t{headlineFigures}\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Chart plot={props.results.waterfall_chart} />\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Chart plot={props.results.budget_chart} />\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Chart plot={props.results.mtr_chart} />\n\t\t\t</Row>\n\t\t</>\n\t);\n}","import React from \"react\";\nimport PolicySituationOverview from \"./population-results/overview\";\nimport { SituationResultsPane } from \"./situation-results/results\";\nimport { LoadingResultsPane } from \"./population-results/results\";\nimport { Row, Col } from \"react-bootstrap\";\n\nclass SituationResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {plan: this.props.policy, situation: this.props.situation, results: null, waiting: false};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.simulate();\n\t}\n\n\tsimulate() {\n\t\tlet submission = {};\n\t\tfor (const key in this.state.plan) {\n\t\t\tsubmission[key] = this.state.plan[key].value;\n\t\t}\n\t\tsubmission[\"situation\"] = this.state.situation;\n\t\tthis.setState({ waiting: true }, () => {\n\t\t\tfetch(\"https://uk-policy-engine.uw.r.appspot.com/situation-reform\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(submission),\n\t\t\t}).then((res) => res.json()).then((json) => {\n\t\t\t\tthis.setState({ results: json, waiting: false });\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={9}>\n\t\t\t\t\t{\n\t\t\t\t\t\t!this.state.results ?\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{minHeight: 400}}>\n\t\t\t\t\t\t\t\t<LoadingResultsPane message=\"Simulating policy on your situation\"/>\n\t\t\t\t\t\t\t</div> :\n\t\t\t\t\t\t\t<SituationResultsPane results={this.state.results} />\n\t\t\t\t\t}\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3} style={{paddingLeft: 50}}>\n\t\t\t\t\t<PolicySituationOverview policy={this.props.policy} household={this.props.situation.household} noButton/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default SituationResults;","const DEFAULT_POLICY = {\n\tbasic_rate: {\n\t\ttitle: \"Basic rate\",\n\t\tdescription: \"The basic rate is the first of three tax brackets on all income, after allowances are deducted.\",\n\t\tdefault: 20,\n\t\tvalue: 20,\n\t\tsummary: \"Change the basic rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\thigher_rate: {\n\t\ttitle: \"Higher rate\",\n\t\tdescription: \"The higher rate is the middle tax bracket.\",\n\t\tdefault: 40,\n\t\tvalue: 40,\n\t\tsummary: \"Change the higher rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tadd_rate: {\n\t\ttitle: \"Additional rate\",\n\t\tdescription: \"The additional rate is the highest tax bracket, with no upper bound.\",\n\t\tdefault: 45,\n\t\tvalue: 45,\n\t\tsummary: \"Change the additional rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tbasic_threshold: {\n\t\ttitle: \"Basic rate threshold\",\n\t\tdescription: \"Lower threshold for the basic rate, on income after allowances (including the personal allowance) have been deducted.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 100000,\n\t\tsummary: \"Change the basic rate to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\thigher_threshold: {\n\t\ttitle: \"Higher rate threshold\",\n\t\tdescription: \"The lower threshold for the higher rate of income tax (and therefore the upper threshold of the basic rate).\",\n\t\tdefault: 37500,\n\t\tvalue: 37500,\n\t\tmax: 200000,\n\t\tsummary: \"Change the higher rate to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\tadd_threshold: {\n\t\ttitle: \"Additional rate\",\n\t\tdescription: \"The lower threshold for the additional rate.\",\n\t\tdefault: 150000,\n\t\tvalue: 150000,\n\t\tmax: 1000000,\n\t\tsummary: \"Change the additional rate to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\tpersonal_allowance: {\n\t\ttitle: \"Personal allowance\",\n\t\tdescription: \"The personal allowance is deducted from general income.\",\n\t\tdefault: 12500,\n\t\tvalue: 12500,\n\t\tmax: 25000,\n\t\tsummary: \"Change the personal allowance to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\tNI_main_rate: {\n\t\ttitle: \"NI main rate\",\n\t\tdescription: \"The Class 1 NI main rate is paid on employment earnings between the Primary Threshold and the Upper Earnings Limit.\",\n\t\tdefault: 12,\n\t\tvalue: 12,\n\t\tsummary: \"Change the NI main rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tNI_add_rate: {\n\t\ttitle: \"NI additional rate\",\n\t\tdescription: \"The Class 1 NI additional rate is paid on employment earnings above the Upper Earnings Limit.\",\n\t\tdefault: 2,\n\t\tvalue: 2,\n\t\tsummary: \"Change the NI additional rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tNI_PT: {\n\t\ttitle: \"NI Primary Threshold\",\n\t\tdescription: \"The Primary Threshold is the lower bound for the main rate of NI.\",\n\t\tdefault: 183,\n\t\tvalue: 183,\n\t\tmax: 1000,\n\t\tsummary: \"Change the PT to £@/week\",\n\t\ttype: \"weekly\",\n\t},\n\tNI_UEL: {\n\t\ttitle: \"NI Upper Earnings Limit\",\n\t\tdescription: \"The Upper Earnings Limit is the upper bound for the main rate of NI.\",\n\t\tdefault: 962,\n\t\tvalue: 962,\n\t\tmax: 10000,\n\t\tsummary: \"Change the UEL to £@/week\",\n\t\ttype: \"weekly\",\n\t},\n\tchild_UBI: {\n\t\ttitle: \"Child UBI\",\n\t\tdescription: \"A basic income for children is given to every child aged under 18, regardless of household income.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 250,\n\t\tsummary: \"Give a basic income of £@/week to children\",\n\t\ttype: \"weekly\",\n\t},\n\tadult_UBI: {\n\t\ttitle: \"Adult UBI\",\n\t\tdescription: \"Basic income for adults is given to individuals aged over 18 but under State Pension age.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 250,\n\t\tsummary: \"Give a basic income of £@/week to adults\",\n\t\ttype: \"weekly\",\n\t},\n\tsenior_UBI: {\n\t\ttitle: \"Senior UBI\",\n\t\tdescription: \"A basic income for senior citizens is given to those over State Pension age.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 250,\n\t\tsummary: \"Give a basic income of £@/week to seniors\",\n\t\ttype: \"weekly\",\n\t},\n\tabolish_savings_allowance: {\n\t\ttitle: \"Personal Savings Allowance\",\n\t\tdescription: \"The Personal Savings Allowance is the amount of taxable savings interest income disregarded for Income Tax purposes. It has different values at different Income Tax bands - this switch abolishes all of them.\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\tsummary: \"Abolish the Personal Savings Allowance\",\n\t\ttype: \"bool\"\n\t},\n\tabolish_dividend_allowance: {\n\t\ttitle: \"Dividend Allowance\",\n\t\tdescription: \"The Dividend Allowance disregards up to £2,000 of taxable dividend income per year. This switch abolishes it.\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\tsummary: \"Abolish the Dividend Allowance\",\n\t\ttype: \"bool\"\n\t},\n\tabolish_income_tax: {\n\t\ttitle: \"Income Tax\",\n\t\tdescription: \"Income Tax raises over £190bn per year. This switch abolishes it.\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\tsummary: \"Abolish Income Tax\",\n\t\ttype: \"bool\"\n\t},\n\tabolish_NI: {\n\t\ttitle: \"National Insurance\",\n\t\tdescription: \"This switch abolishes National Insurance.\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\tsummary: \"Abolish National Insurance\",\n\t\ttype: \"bool\"\n\t},\n\tabolish_UC: {\n\t\ttitle: \"Abolish Universal Credit\",\n\t\tdescription: \"Universal Credit is the main means-tested benefit, currently being rolled out across the country.\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\tsummary: \"Abolish Universal Credit\",\n\t\ttype: \"bool\"\n\t},\n\tabolish_CB: {\n\t\ttitle: \"Abolish Child Benefit\",\n\t\tdescription: \"Child Benefit is a universal allowance to parents of children, with a means test embedded in Income Tax.\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\tsummary: \"Abolish Child Benefit\",\n\t\ttype: \"bool\"\n\t},\n};\n\nexport default DEFAULT_POLICY;\n","// JS imports\n\nimport React from \"react\";\n\nimport Header from \"./ui/header\";\nimport Policy from \"./pages/policy\";\nimport Situation from \"./pages/situation\";\nimport PopulationResults from \"./pages/population-results\";\nimport SituationResults from \"./pages/situation-results\";\nimport {\n\tHashRouter as Router,\n\tSwitch,\n\tRoute,\n\tLink,\n} from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport Analytics from \"react-router-ga\";\n\n// JSON imports\n\nimport DEFAULT_POLICY from \"./pages/policy/default_policy\";\nimport DEFAULT_SITUATION from \"./pages/situation/default_situation\";\n\n// CSS imports\n\nimport \"../css/App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\n\nfunction getPolicyFromURL() {\n\tlet plan = DEFAULT_POLICY;\n\tif (document.location.hash.includes(\"?\")) {\n\t\tconst searchParams = new URLSearchParams(document.location.hash.toString().slice(document.location.hash.indexOf(\"?\")));\n\t\tfor (const key of searchParams.keys()) {\n\t\t\tplan[key].value = +searchParams.get(key);\n\t\t}\n\t}\n\treturn plan;\n}\n\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {policy: getPolicyFromURL(), situation: {household: DEFAULT_SITUATION}};\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Router basename=\"/\">\n\t\t\t\t<Analytics id=\"G-QL2XFHB7B4\">\n\t\t\t\t\t<Container fluid style={{paddingBottom: 50}}>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t\t\t<Header step={0}/>\n\t\t\t\t\t\t\t\t<Policy policy={this.state.policy} onSubmit={policy => {this.setState({policy: policy});}}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route path=\"/situation\">\n\t\t\t\t\t\t\t\t<Header step={1}/>\n\t\t\t\t\t\t\t\t<Situation policy={this.state.policy} onSubmit={situation =>{this.setState({situation: situation});}} situation={this.state.situation} />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route path=\"/population-results\">\n\t\t\t\t\t\t\t\t<Header step={2}/>\n\t\t\t\t\t\t\t\t<PopulationResults policy={this.state.policy} situation={this.state.situation}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route path=\"/situation-results\">\n\t\t\t\t\t\t\t\t<Header step={3}/>\n\t\t\t\t\t\t\t\t<SituationResults policy={this.state.policy} situation={this.state.situation}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Container>\n\t\t\t\t</Analytics>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./js/App\";\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById(\"root\"),\n);\n"],"sourceRoot":""}